@model LibraryPlotnikova.Models.BookModels.UpdateBookModel
@{ ViewData["Title"] = "Book - Update"; }
<link rel="stylesheet" href="~/css/info.css" />
<link rel="stylesheet" href="~/css/tables.css" />

<div class="container">
    <form asp-controller="Book" asp-action="UpdateFromModel">
        @Html.HiddenFor(e => e.Id)

        <div class="input-block">
            <label>Название</label>
            <input asp-for="@Model.Name" maxlength="50" size="55" placeholder="Введите название" autofocus autocomplete="off" />
            <span class="error-message" asp-validation-for="@Model.Name"></span>
        </div>

        <div class="input-block">
            <label>Количество страниц</label>
            <input asp-for="@Model.NumberOfPages" />
            <span class="error-message" asp-validation-for="@Model.NumberOfPages"></span>
        </div>

        <div class="input-block">
            <label>Год издания</label>
            <input asp-for="@Model.PublishmentYear" />
            <span class="error-message" asp-validation-for="@Model.PublishmentYear"></span>
        </div>

        <div class="input-block">
            <label>Стоимость</label>
            <input asp-for="@Model.Price" />
            <span class="error-message" asp-validation-for="@Model.Price"></span>
        </div>

        @if (Model.AvailableGenres.Any())
        {
            <div class="input-block">
                <label>Жанр</label>
                @Html.DropDownListFor(e => e.GenreId, Model.AvailableGenres)
            </div>
        }

        @if (Model.AvailablePublishers.Any())
        {
            <div class="input-block">
                <label>Издатель</label>
                @Html.DropDownListFor(e => e.PublisherId, Model.AvailablePublishers)
            </div>
        }

        @if (Model.AvailableAuthors.Any())
        {
            <div class="input-block">
                <label>Авторы</label>
                <div class="input-block-multiselect">
                    @foreach (var item in @Model.AvailableAuthors)
                    {
                        <div class="checkbox">
                            <label>
                                <input type="checkbox"
                                       name="AuthorFilter.Ids"
                                       value="@item.Value"
                                       checked="@item.Selected" />
                                @item.Text
                            </label>
                        </div>
                    }
                </div>
            </div>
        }

        <table>
            <tr>
                <td>
                    <input type="submit" asp-action="UpdateFromModel" formmethod="post"
                           class="btn btn-outline-success" value="Сохранить" />
                </td>
                <td>
                    <input type="submit" asp-action="Info" formmethod="get" formnovalidate
                           class="btn btn-outline-dark" value="Отмена" />
                </td>
            </tr>
        </table>
    </form>
</div>


@section scripts
{
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
}